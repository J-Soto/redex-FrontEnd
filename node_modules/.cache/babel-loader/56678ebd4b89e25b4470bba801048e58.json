{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Ciclo9\\\\DP1\\\\Front-end\\\\redexfront\\\\redexfront\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Ciclo9\\\\DP1\\\\Front-end\\\\redexfront\\\\redexfront\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Ciclo9\\\\DP1\\\\Front-end\\\\redexfront\\\\redexfront\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Ciclo9\\\\DP1\\\\Front-end\\\\redexfront\\\\redexfront\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Ciclo9\\\\DP1\\\\Front-end\\\\redexfront\\\\redexfront\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Ciclo9\\\\DP1\\\\Front-end\\\\redexfront\\\\redexfront\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Ciclo9\\\\DP1\\\\Front-end\\\\redexfront\\\\redexfront\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Ciclo9\\\\DP1\\\\Front-end\\\\redexfront\\\\redexfront\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Ciclo9\\\\DP1\\\\Front-end\\\\redexfront\\\\redexfront\\\\src\\\\views\\\\examples\\\\Incident.js\";\nimport React from \"react\"; // node.js library that concatenates classes (strings)\n// javascipt plugin for creating charts\n\nimport Chart from \"chart.js\"; // react plugin used to create charts\n\nimport { Bar } from \"react-chartjs-2\";\nimport Slider from \"@material-ui/core/Slider\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ReactDatetime from \"react-datetime\"; // reactstrap components\n\nimport { Alert, Button, Card, CardHeader, CardBody, FormGroup, Form, Input, Container, Row, Col, ListGroup, ListGroupItem } from \"reactstrap\"; // core components\n\nimport { chartOptions, parseOptions, chartExample1, chartExample2 } from \"variables/charts.js\";\nimport Header from \"components/Headers/Header.js\";\nimport APIIncident from \"./../../apis/APIIncident.js\";\nvar serviceIncident = new APIIncident();\n\nvar Incident = /*#__PURE__*/function (_React$Component) {\n  _inherits(Incident, _React$Component);\n\n  var _super = _createSuper(Incident);\n\n  function Incident(props) {\n    var _this;\n\n    _classCallCheck(this, Incident);\n\n    _this = _super.call(this, props);\n\n    _this.handleChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.componentWillMount = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var resultIncident, dataChart1, labelsChart1, legendChart1, dataChart2, labelsChart2, legendChart2;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return serviceIncident.getDashboards();\n\n            case 2:\n              resultIncident = _context.sent;\n              dataChart1 = [], labelsChart1 = [], legendChart1 = [], dataChart2 = [], labelsChart2 = [], legendChart2 = [];\n\n              if (resultIncident[\"estado\"].length < 3) {\n                resultIncident[\"resultado\"][\"byairports\"].map(function (airport) {\n                  dataChart1.push(airport[\"count\"]);\n                  labelsChart1.push(airport[\"code\"]);\n                  legendChart1.push(airport[\"name\"]);\n                });\n                resultIncident[\"resultado\"][\"byflightplans\"].map(function (flight) {\n                  dataChart2.push(flight[\"count\"]);\n                  labelsChart2.push(flight[\"idFlight\"]);\n                  legendChart2.push([flight[\"codOrigin\"], flight[\"codDestiny\"]]);\n                });\n                console.log(dataChart1, labelsChart1, legendChart1);\n                console.log(dataChart2, labelsChart2, legendChart2);\n\n                _this.setState({\n                  dataChart1: dataChart1,\n                  labelsChart1: labelsChart1,\n                  legendChart1: legendChart1,\n                  dataChart2: dataChart2,\n                  labelsChart2: labelsChart2,\n                  legendChart2: legendChart2,\n                  dataChart3: resultIncident[\"resultado\"][\"summaryCase\"]\n                });\n              } else {\n                //si hay error porque no hay data\n                _this.setState({\n                  dataChart1: [0, 0, 0, 0, 0],\n                  labelsChart1: [\"A1\", \"A2\", \"A3\", \"A4\", \"A5\"],\n                  legendChart1: [\"N1\", \"N2\", \"N3\", \"N4\", \"N5\"],\n                  dataChart2: [0, 0, 0, 0, 0],\n                  labelsChart2: [\"V1\", \"V2\", \"V3\", \"V4\", \"V5\"],\n                  legendChart2: [\"O1-D1\", \"O2-D2\", \"O3-D3\", \"O4-D4\", \"O5-D5\"],\n                  dataChart3: {\n                    \"ok\": 0,\n                    \"fails\": 0\n                  }\n                });\n              }\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    _this.state = {\n      dataChart1: [],\n      labelsChart1: [],\n      legendChart1: [],\n      dataChart2: [],\n      labelsChart2: [],\n      legendChart2: [],\n      dataChart3: {}\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n\n    if (window.Chart) {\n      parseOptions(Chart, chartOptions());\n    }\n\n    return _this;\n  }\n\n  _createClass(Incident, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var data1 = {\n        labels: this.state.labelsChart1,\n        datasets: [{\n          label: \"Aeropuertos más ocupados\",\n          data: this.state.dataChart1,\n          maxBarThickness: 10\n        }]\n      };\n      var data2 = {\n        labels: this.state.labelsChart2,\n        datasets: [{\n          label: \"Vuelos más ocupados\",\n          data: this.state.dataChart2,\n          maxBarThickness: 10\n        }]\n      };\n      var data3 = {\n        labels: [\"Éxitos\", \"Fallos\"],\n        datasets: [{\n          label: \"Procesamiento\",\n          data: [this.state.dataChart3[\"ok\"], this.state.dataChart3[\"fails\"]],\n          maxBarThickness: 10\n        }]\n      };\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Container, {\n        className: \"mt--7\",\n        fluid: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"bg-secondary shadow\",\n        style: {\n          width: \"80rem\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        className: \"bg-white border-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        className: \"align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        xs: \"10\",\n        className: \"col-sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"mb-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }\n      }, \"Incidentes\")))), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pl-lg-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 25\n        }\n      }, \"TOP 5 Almacenes llenos\")), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        lg: \"9\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"chart\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Bar, {\n        data: data1,\n        options: chartExample2.options,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 33\n        }\n      }))), /*#__PURE__*/React.createElement(Col, {\n        lg: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(ListGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 29\n        }\n      }, this.state.legendChart1.map(function (airport) {\n        /*#__PURE__*/\n        React.createElement(ListGroupItem, {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 37\n          }\n        }, airport);\n      })))), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 25\n        }\n      }, \"TOP 5 Vuelos llenos\")), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        lg: \"9\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"chart\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Bar, {\n        data: data2,\n        options: chartExample2.options,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 33\n        }\n      }))), /*#__PURE__*/React.createElement(Col, {\n        lg: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(ListGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 29\n        }\n      }, this.state.legendChart2.map(function (flight) {\n        /*#__PURE__*/\n        React.createElement(ListGroupItem, {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 37\n          }\n        }, flight[0], \"-\", flight[1]);\n      })))), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 25\n        }\n      }, \"Resumen\")), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        lg: \"9\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"chart\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Bar, {\n        data: data3,\n        options: chartExample2.options,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 33\n        }\n      }))), /*#__PURE__*/React.createElement(Col, {\n        lg: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 25\n        }\n      })))))))));\n    }\n  }]);\n\n  return Incident;\n}(React.Component);\n\nexport default Incident;","map":{"version":3,"sources":["C:/Users/Usuario/Documents/Ciclo9/DP1/Front-end/redexfront/redexfront/src/views/examples/Incident.js"],"names":["React","Chart","Bar","Slider","makeStyles","Typography","ReactDatetime","Alert","Button","Card","CardHeader","CardBody","FormGroup","Form","Input","Container","Row","Col","ListGroup","ListGroupItem","chartOptions","parseOptions","chartExample1","chartExample2","Header","APIIncident","serviceIncident","Incident","props","handleChange","event","setState","target","name","value","componentWillMount","getDashboards","resultIncident","dataChart1","labelsChart1","legendChart1","dataChart2","labelsChart2","legendChart2","length","map","airport","push","flight","console","log","dataChart3","state","bind","window","data1","labels","datasets","label","data","maxBarThickness","data2","data3","width","options","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\n// node.js library that concatenates classes (strings)\r\n\r\n// javascipt plugin for creating charts\r\nimport Chart from \"chart.js\";\r\n// react plugin used to create charts\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport ReactDatetime from \"react-datetime\";\r\n// reactstrap components\r\nimport {\r\n  Alert,\r\n  Button,\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n  FormGroup,\r\n  Form,\r\n  Input,\r\n  Container,\r\n  Row,\r\n  Col,\r\n  ListGroup,\r\n  ListGroupItem,\r\n} from \"reactstrap\";\r\n// core components\r\n\r\nimport { chartOptions, parseOptions , chartExample1, chartExample2} from \"variables/charts.js\";\r\nimport Header from \"components/Headers/Header.js\";\r\nimport APIIncident from \"./../../apis/APIIncident.js\";\r\nconst serviceIncident = new APIIncident();\r\n\r\nclass Incident extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        dataChart1:[],\r\n        labelsChart1:[],\r\n        legendChart1:[],\r\n        dataChart2:[],\r\n        labelsChart2:[],\r\n        legendChart2:[],\r\n        dataChart3:{},\r\n     \r\n    };\r\n    this.handleChange = this.handleChange.bind(this);    \r\n    \r\n    if (window.Chart) {\r\n      parseOptions(Chart, chartOptions());\r\n    }\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.setState({\r\n      [event.target.name]: event.target.value,\r\n     \r\n    });\r\n  };\r\n  \r\n  componentWillMount = async()=>{\r\n      const resultIncident = await serviceIncident.getDashboards();\r\n      let dataChart1=[],labelsChart1=[],legendChart1=[],dataChart2=[],labelsChart2=[],legendChart2=[];\r\n      if (resultIncident[\"estado\"].length<3){\r\n        resultIncident[\"resultado\"][\"byairports\"].map((airport)=>{\r\n            dataChart1.push(airport[\"count\"]);\r\n            labelsChart1.push(airport[\"code\"]);\r\n            legendChart1.push(airport[\"name\"]);\r\n        });\r\n        resultIncident[\"resultado\"][\"byflightplans\"].map((flight)=>{\r\n            dataChart2.push(flight[\"count\"]);\r\n            labelsChart2.push(flight[\"idFlight\"]);\r\n            legendChart2.push([flight[\"codOrigin\"],flight[\"codDestiny\"]]);\r\n        });\r\n        console.log(dataChart1,labelsChart1,legendChart1);\r\n        console.log(dataChart2,labelsChart2,legendChart2);\r\n          this.setState({\r\n              dataChart1:dataChart1,\r\n              labelsChart1:labelsChart1,\r\n              legendChart1:legendChart1,\r\n              dataChart2:dataChart2,\r\n              labelsChart2:labelsChart2,\r\n              legendChart2:legendChart2,\r\n              dataChart3:resultIncident[\"resultado\"][\"summaryCase\"],\r\n          })\r\n\r\n      }\r\n      else{\r\n          //si hay error porque no hay data\r\n        this.setState({\r\n            dataChart1:[0,0,0,0,0],\r\n            labelsChart1:[\"A1\",\"A2\",\"A3\",\"A4\",\"A5\"],\r\n            legendChart1:[\"N1\",\"N2\",\"N3\",\"N4\",\"N5\"],\r\n            dataChart2:[0,0,0,0,0],\r\n            labelsChart2:[\"V1\",\"V2\",\"V3\",\"V4\",\"V5\"],\r\n            legendChart2:[\"O1-D1\",\"O2-D2\",\"O3-D3\",\"O4-D4\",\"O5-D5\"],\r\n            dataChart3:{\"ok\":0,\"fails\":0},\r\n        })\r\n\r\n      }\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    let data1={\r\n        labels: this.state.labelsChart1,\r\n        datasets: [\r\n          {\r\n            label: \"Aeropuertos más ocupados\",\r\n            data: this.state.dataChart1,\r\n            maxBarThickness: 10,\r\n          },\r\n        ],\r\n    };\r\n    let data2={\r\n        labels: this.state.labelsChart2,\r\n        datasets: [\r\n          {\r\n            label: \"Vuelos más ocupados\",\r\n            data:this.state.dataChart2,\r\n            maxBarThickness: 10,\r\n          },\r\n        ],\r\n      };\r\n    let data3={\r\n        labels: [\"Éxitos\", \"Fallos\"],\r\n        datasets: [\r\n          {\r\n            label: \"Procesamiento\",\r\n            data: [\r\n              this.state.dataChart3[\"ok\"],\r\n              this.state.dataChart3[\"fails\"],\r\n            ],\r\n            maxBarThickness: 10,\r\n          },\r\n        ],\r\n\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <Header />\r\n        <Container className=\"mt--7\" fluid>\r\n          {/* Form */}\r\n          <Row>\r\n            <Card className=\"bg-secondary shadow\" style={{ width: \"80rem\" }}>\r\n              <CardHeader className=\"bg-white border-0\">\r\n                <Row className=\"align-items-center\">\r\n                  <Col xs=\"10\" className=\"col-sm\">\r\n                    <h3 className=\"mb-0\">Incidentes</h3>\r\n                  </Col>\r\n                </Row>\r\n              </CardHeader>\r\n              <CardBody>\r\n                <Form>\r\n                  <div className=\"pl-lg-4\">\r\n                    <Row>\r\n                        <h3>TOP 5 Almacenes llenos</h3>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col lg=\"9\">\r\n                            <div className=\"chart\">\r\n                                <Bar data={data1} options={chartExample2.options} />\r\n                            </div>  \r\n                        </Col>\r\n                        <Col lg=\"3\">\r\n                            <ListGroup>\r\n                                {this.state.legendChart1.map((airport)=>{\r\n                                    <ListGroupItem>{airport}</ListGroupItem>\r\n                                })}\r\n                            </ListGroup>\r\n\r\n                        </Col>                    \r\n                    </Row>\r\n                    <Row>\r\n                        <h3>TOP 5 Vuelos llenos</h3>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col lg=\"9\">\r\n                            <div className=\"chart\">\r\n                                <Bar data={data2} options={chartExample2.options} />\r\n                            </div>\r\n                        </Col>\r\n                        <Col lg=\"3\">\r\n                            <ListGroup>\r\n                                {this.state.legendChart2.map((flight)=>{\r\n                                    <ListGroupItem>{flight[0]}-{flight[1]}</ListGroupItem>\r\n                                })}\r\n                            </ListGroup>\r\n                        </Col> \r\n                    </Row>\r\n                    <Row>\r\n                        <h3>Resumen</h3>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col lg=\"9\">\r\n                            <div className=\"chart\">\r\n                                <Bar data={data3} options={chartExample2.options} />\r\n                            </div>\r\n                        </Col>\r\n                        <Col lg=\"3\">\r\n\r\n                        </Col>\r\n                    </Row>\r\n                  </div>\r\n                </Form>     \r\n              </CardBody>\r\n            </Card>\r\n          </Row>\r\n        </Container>\r\n      </>\r\n    );\r\n  }\r\n}\r\nexport default Incident;"]},"metadata":{},"sourceType":"module"}