{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Ciclo9\\\\DP1\\\\Front-end\\\\redexfront\\\\redexfront\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Ciclo9\\\\DP1\\\\Front-end\\\\redexfront\\\\redexfront\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Ciclo9\\\\DP1\\\\Front-end\\\\redexfront\\\\redexfront\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Ciclo9\\\\DP1\\\\Front-end\\\\redexfront\\\\redexfront\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Ciclo9\\\\DP1\\\\Front-end\\\\redexfront\\\\redexfront\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Ciclo9\\\\DP1\\\\Front-end\\\\redexfront\\\\redexfront\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Ciclo9\\\\DP1\\\\Front-end\\\\redexfront\\\\redexfront\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Ciclo9\\\\DP1\\\\Front-end\\\\redexfront\\\\redexfront\\\\src\\\\views\\\\examples\\\\Login.js\";\n\n/*!\r\n\r\n=========================================================\r\n* Argon Dashboard React - v1.1.0\r\n=========================================================\r\n\r\n* Product Page: https://www.creative-tim.com/product/argon-dashboard-react\r\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\r\n* Licensed under MIT (https://github.com/creativetimofficial/argon-dashboard-react/blob/master/LICENSE.md)\r\n\r\n* Coded by Creative Tim\r\n\r\n=========================================================\r\n\r\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n\r\n*/\nimport React from \"react\"; // reactstrap components\n\nimport { Alert, Button, Card, CardHeader, CardBody, FormGroup, Form, Input, InputGroupAddon, InputGroupText, InputGroup, Row, Col } from \"reactstrap\"; //apis\n\nimport APIUser from \"./../../apis/APIUser.js\";\n\nvar Login = /*#__PURE__*/function (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  var _super = _createSuper(Login);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _super.call(this, props);\n\n    _this.handleChangeUser = function (event) {\n      _this.setState({\n        user: event.target.value\n      });\n    };\n\n    _this.handleChangePassword = function (event) {\n      _this.setState({\n        password: event.target.value\n      });\n    };\n\n    _this.enterToAdmin = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var userService, loginConfirmation, information;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              userService = new APIUser();\n              _context.next = 3;\n              return userService.login(_this.state.user, _this.state.password);\n\n            case 3:\n              loginConfirmation = _context.sent;\n\n              if (loginConfirmation[\"estado\"].length < 3) {\n                //usuario y contraseÃ±a correctos\n                console.log(loginConfirmation[\"resultado\"]);\n                information = loginConfirmation[\"resultado\"];\n                sessionStorage.setItem(\"nameAirport\", information[\"warehouse\"][\"airport\"][\"description\"]);\n                sessionStorage.setItem(\"cityAirport\", information[\"warehouse\"][\"airport\"][\"city\"][\"name\"]);\n                sessionStorage.setItem(\"countryAirport\", information[\"warehouse\"][\"airport\"][\"city\"][\"country\"][\"name\"]);\n                sessionStorage.setItem(\"idCityAirport\", information[\"warehouse\"][\"airport\"][\"city\"][\"id\"]);\n                sessionStorage.setItem(\"idCountryAirport\", information[\"warehouse\"][\"airport\"][\"city\"][\"country\"][\"id\"]);\n                sessionStorage.setItem(\"username\", information[\"username\"]);\n                sessionStorage.setItem(\"idAirport\", information[\"warehouse\"][\"airport\"][\"id\"]);\n                sessionStorage.setItem(\"codeAirport\", information[\"warehouse\"][\"airport\"][\"code\"]);\n                sessionStorage.setItem(\"longitudeAirport\", information[\"warehouse\"][\"airport\"][\"longitude\"]);\n                sessionStorage.setItem(\"latitudeAirport\", information[\"warehouse\"][\"airport\"][\"latitude\"]);\n                sessionStorage.setItem(\"descriptionAirport\", information[\"warehouse\"][\"airport\"][\"description\"]);\n                sessionStorage.setItem(\"roleUser\", information[\"roles\"][0][\"id\"]); //console.log(information[\"roles\"][0][\"id\"]);\n\n                _this.props.history.push({\n                  pathname: \"/admin/index\"\n                });\n              } else {\n                //datos incorrectos\n                _this.setState({\n                  user: \"\",\n                  password: \"\",\n                  succes: false\n                });\n              }\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    _this.state = {\n      user: \"\",\n      password: \"\",\n      succes: true\n    };\n    _this.enterToAdmin = _this.enterToAdmin.bind(_assertThisInitialized(_this));\n    _this.handleChangePassword = _this.handleChangePassword.bind(_assertThisInitialized(_this));\n    _this.handleChangeUser = _this.handleChangeUser.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Col, {\n        lg: \"5\",\n        md: \"7\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"bg-secondary shadow border-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(CardBody, {\n        className: \"px-lg-5 py-lg-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-center text-muted mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 17\n        }\n      }, \"\\xA1Bienvenido! Por favor inicie sesi\\xF3n.\")), /*#__PURE__*/React.createElement(Form, {\n        role: \"form\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        className: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(InputGroup, {\n        className: \"input-group-alternative\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(InputGroupAddon, {\n        addonType: \"prepend\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(InputGroupText, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"ni ni-single-02 \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(Input, {\n        placeholder: \"Usuario\",\n        type: \"text\",\n        value: this.state.user,\n        onChange: this.handleChangeUser,\n        autoComplete: \"on\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }\n      }))), /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(InputGroup, {\n        className: \"input-group-alternative\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(InputGroupAddon, {\n        addonType: \"prepend\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(InputGroupText, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"ni ni-lock-circle-open\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(Input, {\n        placeholder: \"Contrase\\xF1a\",\n        type: \"password\",\n        autoComplete: \"on\",\n        value: this.state.password,\n        onChange: this.handleChangePassword,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Alert, {\n        color: \"danger\",\n        isOpen: !this.state.succes,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 19\n        }\n      }, \"Los datos registrados son incorrectos\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"my-4\",\n        color: \"primary\",\n        type: \"button\",\n        onClick: this.enterToAdmin,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 19\n        }\n      }, \"Entrar\"))))), /*#__PURE__*/React.createElement(Row, {\n        className: \"mt-3 justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        className: \"text-light\",\n        href: \"#pablo\",\n        onClick: function onClick(e) {\n          return e.preventDefault();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }\n      }))));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Usuario/Documents/Ciclo9/DP1/Front-end/redexfront/redexfront/src/views/examples/Login.js"],"names":["React","Alert","Button","Card","CardHeader","CardBody","FormGroup","Form","Input","InputGroupAddon","InputGroupText","InputGroup","Row","Col","APIUser","Login","props","handleChangeUser","event","setState","user","target","value","handleChangePassword","password","enterToAdmin","userService","login","state","loginConfirmation","length","console","log","information","sessionStorage","setItem","history","push","pathname","succes","bind","e","preventDefault","Component"],"mappings":"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","sourcesContent":["/*!\r\n\r\n=========================================================\r\n* Argon Dashboard React - v1.1.0\r\n=========================================================\r\n\r\n* Product Page: https://www.creative-tim.com/product/argon-dashboard-react\r\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\r\n* Licensed under MIT (https://github.com/creativetimofficial/argon-dashboard-react/blob/master/LICENSE.md)\r\n\r\n* Coded by Creative Tim\r\n\r\n=========================================================\r\n\r\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n\r\n*/\r\nimport React from \"react\";\r\n\r\n// reactstrap components\r\nimport {\r\n  Alert,\r\n  Button,\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n  FormGroup,\r\n  Form,\r\n  Input,\r\n  InputGroupAddon,\r\n  InputGroupText,\r\n  InputGroup,\r\n  Row,\r\n  Col,\r\n} from \"reactstrap\";\r\n//apis\r\nimport APIUser from \"./../../apis/APIUser.js\";\r\n\r\nclass Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user: \"\",\r\n      password: \"\",\r\n      succes: true,\r\n    };\r\n    this.enterToAdmin = this.enterToAdmin.bind(this);\r\n    this.handleChangePassword = this.handleChangePassword.bind(this);\r\n    this.handleChangeUser = this.handleChangeUser.bind(this);\r\n  }\r\n  handleChangeUser = (event) => {\r\n    this.setState({\r\n      user: event.target.value,\r\n    });\r\n  };\r\n  handleChangePassword = (event) => {\r\n    this.setState({\r\n      password: event.target.value,\r\n    });\r\n  };\r\n\r\n  enterToAdmin = async () => {\r\n    const userService = new APIUser();\r\n    const loginConfirmation = await userService.login(\r\n      this.state.user,\r\n      this.state.password\r\n    );\r\n    if (loginConfirmation[\"estado\"].length < 3) {\r\n      //usuario y contraseÃ±a correctos\r\n      console.log(loginConfirmation[\"resultado\"]);\r\n      const information = loginConfirmation[\"resultado\"];\r\n      sessionStorage.setItem(\r\n        \"nameAirport\",\r\n        information[\"warehouse\"][\"airport\"][\"description\"]\r\n      );\r\n      sessionStorage.setItem(\r\n        \"cityAirport\",\r\n        information[\"warehouse\"][\"airport\"][\"city\"][\"name\"]\r\n      );\r\n      sessionStorage.setItem(\r\n        \"countryAirport\",\r\n        information[\"warehouse\"][\"airport\"][\"city\"][\"country\"][\"name\"]\r\n      );\r\n      sessionStorage.setItem(\r\n        \"idCityAirport\",\r\n        information[\"warehouse\"][\"airport\"][\"city\"][\"id\"]\r\n      );\r\n      sessionStorage.setItem(\r\n        \"idCountryAirport\",\r\n        information[\"warehouse\"][\"airport\"][\"city\"][\"country\"][\"id\"]\r\n      );\r\n      sessionStorage.setItem(\"username\", information[\"username\"]);\r\n      sessionStorage.setItem(\r\n        \"idAirport\",\r\n        information[\"warehouse\"][\"airport\"][\"id\"]\r\n      );\r\n      sessionStorage.setItem(\r\n        \"codeAirport\",\r\n        information[\"warehouse\"][\"airport\"][\"code\"]\r\n      );\r\n      sessionStorage.setItem(\r\n        \"longitudeAirport\",\r\n        information[\"warehouse\"][\"airport\"][\"longitude\"]\r\n      );\r\n      sessionStorage.setItem(\r\n        \"latitudeAirport\",\r\n        information[\"warehouse\"][\"airport\"][\"latitude\"]\r\n      );\r\n      sessionStorage.setItem(\r\n        \"descriptionAirport\",\r\n        information[\"warehouse\"][\"airport\"][\"description\"]\r\n      );\r\n      sessionStorage.setItem(\"roleUser\", information[\"roles\"][0][\"id\"]);\r\n      //console.log(information[\"roles\"][0][\"id\"]);\r\n\r\n      this.props.history.push({\r\n        pathname: \"/admin/index\",\r\n      });\r\n    } else {\r\n      //datos incorrectos\r\n      this.setState({\r\n        user: \"\",\r\n        password: \"\",\r\n        succes: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Col lg=\"5\" md=\"7\">\r\n          <Card className=\"bg-secondary shadow border-0\">\r\n            <CardBody className=\"px-lg-5 py-lg-5\">\r\n              <div className=\"text-center text-muted mb-4\">\r\n                <small>Â¡Bienvenido! Por favor inicie sesiÃ³n.</small>\r\n              </div>\r\n              <Form role=\"form\">\r\n                <FormGroup className=\"mb-3\">\r\n                  <InputGroup className=\"input-group-alternative\">\r\n                    <InputGroupAddon addonType=\"prepend\">\r\n                      <InputGroupText>\r\n                        <i className=\"ni ni-single-02 \" />\r\n                      </InputGroupText>\r\n                    </InputGroupAddon>\r\n                    <Input\r\n                      placeholder=\"Usuario\"\r\n                      type=\"text\"\r\n                      value={this.state.user}\r\n                      onChange={this.handleChangeUser}\r\n                      autoComplete=\"on\"\r\n                    />\r\n                  </InputGroup>\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <InputGroup className=\"input-group-alternative\">\r\n                    <InputGroupAddon addonType=\"prepend\">\r\n                      <InputGroupText>\r\n                        <i className=\"ni ni-lock-circle-open\" />\r\n                      </InputGroupText>\r\n                    </InputGroupAddon>\r\n                    <Input\r\n                      placeholder=\"ContraseÃ±a\"\r\n                      type=\"password\"\r\n                      autoComplete=\"on\"\r\n                      value={this.state.password}\r\n                      onChange={this.handleChangePassword}\r\n                    />\r\n                  </InputGroup>\r\n                </FormGroup>\r\n                <div className=\"text-center\">\r\n                  <Alert color=\"danger\" isOpen={!this.state.succes}>\r\n                    Los datos registrados son incorrectos\r\n                  </Alert>\r\n                </div>\r\n\r\n                <div className=\"text-center\">\r\n                  <Button\r\n                    className=\"my-4\"\r\n                    color=\"primary\"\r\n                    type=\"button\"\r\n                    onClick={this.enterToAdmin}\r\n                  >\r\n                    Entrar\r\n                  </Button>\r\n                </div>\r\n              </Form>\r\n            </CardBody>\r\n          </Card>\r\n          <Row className=\"mt-3 justify-content-center\">\r\n            <a\r\n              className=\"text-light\"\r\n              href=\"#pablo\"\r\n              onClick={(e) => e.preventDefault()}\r\n            >\r\n              {/* <small>Â¿OlvidÃ³ su contraseÃ±a?</small>*/}\r\n            </a>\r\n          </Row>\r\n        </Col>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}