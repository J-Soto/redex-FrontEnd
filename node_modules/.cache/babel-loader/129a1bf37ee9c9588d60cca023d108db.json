{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Ciclo9\\\\DP1\\\\Front-end\\\\redexfront\\\\redexfront\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Ciclo9\\\\DP1\\\\Front-end\\\\redexfront\\\\redexfront\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Ciclo9\\\\DP1\\\\Front-end\\\\redexfront\\\\redexfront\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Ciclo9\\\\DP1\\\\Front-end\\\\redexfront\\\\redexfront\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Ciclo9\\\\DP1\\\\Front-end\\\\redexfront\\\\redexfront\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Ciclo9\\\\DP1\\\\Front-end\\\\redexfront\\\\redexfront\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Ciclo9\\\\DP1\\\\Front-end\\\\redexfront\\\\redexfront\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Ciclo9\\\\DP1\\\\Front-end\\\\redexfront\\\\redexfront\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Ciclo9\\\\DP1\\\\Front-end\\\\redexfront\\\\redexfront\\\\src\\\\views\\\\examples\\\\Simulation.js\";\nimport React from \"react\"; // node.js library that concatenates classes (strings)\n\nimport classnames from \"classnames\"; // javascipt plugin for creating charts\n\nimport Chart from \"chart.js\"; // react plugin used to create charts\n\nimport { Line, Bar } from \"react-chartjs-2\"; // reactstrap components\n\nimport { Alert, Button, Card, CardHeader, CardBody, FormGroup, Form, Input, Container, Row, Col, Modal, InputGroupAddon, InputGroupText, InputGroup } from \"reactstrap\"; // core components\n\nimport { chartOptions, parseOptions, chartExample1, chartExample2 } from \"variables/charts.js\";\nimport Header from \"components/Headers/Header.js\";\nimport APIShipment from \"./../../apis/APIShipment.js\";\n\nvar Simulation = /*#__PURE__*/function (_React$Component) {\n  _inherits(Simulation, _React$Component);\n\n  var _super = _createSuper(Simulation);\n\n  function Simulation(props) {\n    var _this;\n\n    _classCallCheck(this, Simulation);\n\n    _this = _super.call(this, props);\n\n    _this.handleChange = function (event) {\n      var _this$setState;\n\n      _this.setState((_this$setState = {}, _defineProperty(_this$setState, event.target.name, event.target.value), _defineProperty(_this$setState, \"messageConfirmation\", []), _this$setState));\n    };\n\n    _this.toggleModal = function () {\n      _this.setState({\n        stateModal: !_this.state.stateModal\n      });\n    };\n\n    _this.submitFile = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var fileInput, formData, requestOptions, uploadFileAns, uploadFile, info2, infoModal, alertMessage, _alertMessage;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              //const fileInput = data.querySelector('#packs.generado.20200607') ;\n              fileInput = document.querySelector(\"#input-fileSelectorPackages\");\n              formData = new FormData();\n              formData.append(\"file\", fileInput.files[0]); //subir archivo\n\n              requestOptions = {\n                method: \"POST\",\n                body: formData,\n                redirect: \"follow\"\n              };\n              console.log(\"procesando1\");\n              _context.next = 7;\n              return fetch(\"http://54.146.196.79:8080/dp1/api/dispatch/upload/zip\", requestOptions);\n\n            case 7:\n              uploadFileAns = _context.sent;\n              _context.next = 10;\n              return uploadFileAns.json();\n\n            case 10:\n              uploadFile = _context.sent;\n              console.log(uploadFile[\"resultado\"]);\n\n              if (uploadFile[\"estado\"].length < 3) {\n                info2 = /*#__PURE__*/React.createElement(\"div\", {\n                  className: \"chart\",\n                  __self: _assertThisInitialized(_this),\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 94,\n                    columnNumber: 19\n                  }\n                }, /*#__PURE__*/React.createElement(Bar, {\n                  great: uploadFile[\"resultado\"][\"ok\"],\n                  bad: uploadFile[\"resultado\"][\"failed\"],\n                  data: chartExample2.data2,\n                  options: chartExample2.options,\n                  __self: _assertThisInitialized(_this),\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 21\n                  }\n                }));\n                infoModal = /*#__PURE__*/React.createElement(\"div\", {\n                  __self: _assertThisInitialized(_this),\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 103,\n                    columnNumber: 23\n                  }\n                }, /*#__PURE__*/React.createElement(Row, {\n                  __self: _assertThisInitialized(_this),\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 104,\n                    columnNumber: 23\n                  }\n                }, /*#__PURE__*/React.createElement(\"h4\", {\n                  __self: _assertThisInitialized(_this),\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 27\n                  }\n                }, \"  \", \"Fallos: \", uploadFile[\"resultado\"][\"failed\"])), /*#__PURE__*/React.createElement(Row, {\n                  __self: _assertThisInitialized(_this),\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 107,\n                    columnNumber: 23\n                  }\n                }, /*#__PURE__*/React.createElement(\"h4\", {\n                  __self: _assertThisInitialized(_this),\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 108,\n                    columnNumber: 27\n                  }\n                }, \"  \", \"\\xC9xitos: \", uploadFile[\"resultado\"][\"ok\"])));\n                alertMessage = /*#__PURE__*/React.createElement(Alert, {\n                  __self: _assertThisInitialized(_this),\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 112,\n                    columnNumber: 26\n                  }\n                }, \"El archivo se subi\\xF3 de manera correcta\");\n\n                _this.setState({\n                  messageConfirmation: alertMessage,\n                  infoModal: info2\n                });\n\n                _this.toggleModal();\n              } else {\n                _alertMessage = /*#__PURE__*/React.createElement(Alert, {\n                  __self: _assertThisInitialized(_this),\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 120,\n                    columnNumber: 26\n                  }\n                }, \"El archivo no se subi\\xF3 de manera correcta\");\n\n                _this.setState({\n                  messageConfirmation: _alertMessage,\n                  infoModal: []\n                });\n              }\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    _this.state = {\n      messageConfirmation: [],\n      fileSelection: [],\n      infoModal: [],\n      stateModal: false\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.submitFile = _this.submitFile.bind(_assertThisInitialized(_this));\n    _this.toggleModal = _this.toggleModal.bind(_assertThisInitialized(_this));\n\n    if (window.Chart) {\n      parseOptions(Chart, chartOptions());\n    }\n\n    return _this;\n  }\n\n  _createClass(Simulation, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Container, {\n        className: \"mt--7\",\n        fluid: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"bg-secondary shadow\",\n        style: {\n          width: \"80rem\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        className: \"bg-white border-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        className: \"align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        xs: \"10\",\n        className: \"col-sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"mb-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }\n      }, \"Simulaci\\xF3n de capacidad \")))), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pl-lg-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        lg: \"6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"form-control-label\",\n        htmlFor: \"input-fileSelectorPackages\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 27\n        }\n      }, \"Registro de paquetes\"), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        type: \"file\",\n        name: \"fileSelection\",\n        placeholder: \"Seleccionar archivo\",\n        id: \"input-fileSelectorPackages\",\n        onChange: function onChange(ev) {\n          return _this2.handleChange(ev);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 29\n        }\n      })))), /*#__PURE__*/React.createElement(Col, {\n        lg: \"6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 23\n        }\n      })), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 21\n        }\n      }, this.state.messageConfirmation))), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        color: \"primary\",\n        type: \"button\",\n        onClick: this.submitFile,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 21\n        }\n      }, \"Subir\"), /*#__PURE__*/React.createElement(Modal, {\n        className: \"modal-dialog-centered\",\n        isOpen: this.state.stateModal,\n        toggle: function toggle() {\n          return _this2.toggleModal();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"modal-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"modal-title\",\n        id: \"exampleModalLabel\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 25\n        }\n      }, \"Resultado de la simulaci\\xF3n\"), /*#__PURE__*/React.createElement(\"button\", {\n        \"aria-label\": \"Close\",\n        className: \"close\",\n        \"data-dismiss\": \"modal\",\n        type: \"button\",\n        onClick: function onClick() {\n          return _this2.toggleModal();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        \"aria-hidden\": true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 27\n        }\n      }, \"\\xD7\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"modal-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 23\n        }\n      }, this.state.infoModal), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"modal-footer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        color: \"primary\",\n        \"data-dismiss\": \"modal\",\n        type: \"button\",\n        onClick: function onClick() {\n          return _this2.toggleModal();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 25\n        }\n      }, \"Cerrar\"))))))))));\n    }\n  }]);\n\n  return Simulation;\n}(React.Component);\n\nexport default Simulation;","map":{"version":3,"sources":["C:/Users/Usuario/Documents/Ciclo9/DP1/Front-end/redexfront/redexfront/src/views/examples/Simulation.js"],"names":["React","classnames","Chart","Line","Bar","Alert","Button","Card","CardHeader","CardBody","FormGroup","Form","Input","Container","Row","Col","Modal","InputGroupAddon","InputGroupText","InputGroup","chartOptions","parseOptions","chartExample1","chartExample2","Header","APIShipment","Simulation","props","handleChange","event","setState","target","name","value","toggleModal","stateModal","state","submitFile","fileInput","document","querySelector","formData","FormData","append","files","requestOptions","method","body","redirect","console","log","fetch","uploadFileAns","json","uploadFile","length","info2","data2","options","infoModal","alertMessage","messageConfirmation","fileSelection","bind","window","width","ev","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\n// node.js library that concatenates classes (strings)\r\nimport classnames from \"classnames\";\r\n// javascipt plugin for creating charts\r\nimport Chart from \"chart.js\";\r\n// react plugin used to create charts\r\nimport { Line, Bar } from \"react-chartjs-2\";\r\n// reactstrap components\r\nimport {\r\n  Alert,\r\n  Button,\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n  FormGroup,\r\n  Form,\r\n  Input,\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Modal,\r\n  InputGroupAddon,\r\n  InputGroupText,\r\n  InputGroup,\r\n} from \"reactstrap\";\r\n// core components\r\n\r\nimport {\r\n  chartOptions,\r\n  parseOptions,\r\n  chartExample1,\r\n  chartExample2\r\n} from \"variables/charts.js\";\r\nimport Header from \"components/Headers/Header.js\";\r\nimport APIShipment from \"./../../apis/APIShipment.js\";\r\n\r\nclass Simulation extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      messageConfirmation: [],\r\n      fileSelection: [],\r\n      infoModal: [],\r\n      stateModal: false,\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.submitFile = this.submitFile.bind(this);\r\n    this.toggleModal = this.toggleModal.bind(this);\r\n    if (window.Chart) {\r\n      parseOptions(Chart, chartOptions());\r\n    }\r\n\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.setState({\r\n      [event.target.name]: event.target.value,\r\n      messageConfirmation: [],\r\n    });\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState({\r\n      stateModal: !this.state.stateModal\r\n    })  \r\n\r\n  }\r\n\r\n  \r\n  submitFile = async () => {\r\n    //const fileInput = data.querySelector('#packs.generado.20200607') ;\r\n    const fileInput = document.querySelector(\"#input-fileSelectorPackages\");\r\n    const formData = new FormData();\r\n\r\n    formData.append(\"file\", fileInput.files[0]);\r\n\r\n    //subir archivo\r\n\r\n    var requestOptions = {\r\n      method: \"POST\",\r\n      body: formData,\r\n      redirect: \"follow\",\r\n    };\r\n    console.log(\"procesando1\");\r\n    const uploadFileAns = await fetch(\r\n      \"http://54.146.196.79:8080/dp1/api/dispatch/upload/zip\",\r\n      requestOptions\r\n    );\r\n   \r\n    const uploadFile = await uploadFileAns.json();\r\n    console.log(uploadFile[\"resultado\"]);\r\n\r\n    if (uploadFile[\"estado\"].length < 3) {\r\n      let info2 = <div className=\"chart\">\r\n                    <Bar\r\n                      great ={uploadFile[\"resultado\"][\"ok\"]}\r\n                      bad ={uploadFile[\"resultado\"][\"failed\"]}\r\n                      data={chartExample2.data2}\r\n                      options={chartExample2.options}\r\n                    />\r\n                  </div>;\r\n      \r\n      let infoModal = <div>\r\n                      <Row>\r\n                          <h4>{\"  \"}Fallos: {uploadFile[\"resultado\"][\"failed\"]}</h4>\r\n                      </Row>\r\n                      <Row>\r\n                          <h4>{\"  \"}Éxitos: {uploadFile[\"resultado\"][\"ok\"]}</h4>\r\n                      </Row>\r\n                      </div>;\r\n      \r\n      let alertMessage = <Alert>El archivo se subió de manera correcta</Alert>;\r\n      this.setState({ messageConfirmation: alertMessage,                     \r\n                      infoModal: info2});\r\n      \r\n      this.toggleModal();\r\n\r\n      \r\n    } else {\r\n      let alertMessage = <Alert>El archivo no se subió de manera correcta</Alert>;\r\n\r\n      this.setState({ messageConfirmation: alertMessage ,\r\n                      infoModal: [] });\r\n    }\r\n\r\n\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Header />\r\n        <Container className=\"mt--7\" fluid>\r\n          {/* Form */}\r\n          <Row>\r\n            <Card className=\"bg-secondary shadow\" style={{ width: \"80rem\" }}>\r\n              <CardHeader className=\"bg-white border-0\">\r\n                <Row className=\"align-items-center\">\r\n                  <Col xs=\"10\" className=\"col-sm\">\r\n                    <h3 className=\"mb-0\">Simulación de capacidad </h3>\r\n                  </Col>\r\n                </Row>\r\n              </CardHeader>\r\n              <CardBody>\r\n                <Form>\r\n                  <div className=\"pl-lg-4\">\r\n                    <Row>\r\n                      <Col lg=\"6\">\r\n                        <FormGroup>\r\n                          <label\r\n                            className=\"form-control-label\"\r\n                            htmlFor=\"input-fileSelectorPackages\"\r\n                          >\r\n                            Registro de paquetes\r\n                          </label>\r\n                          <div>\r\n                            <Input\r\n                              type=\"file\"\r\n                              name=\"fileSelection\"\r\n                              placeholder=\"Seleccionar archivo\"\r\n                              id=\"input-fileSelectorPackages\"\r\n                              onChange={(ev) => this.handleChange(ev)}\r\n                            />\r\n                          </div>\r\n                        </FormGroup>\r\n                      </Col>\r\n                      <Col lg=\"6\"></Col>\r\n                    </Row>\r\n                    <Row>{this.state.messageConfirmation}</Row>\r\n                  </div>\r\n                </Form>\r\n                \r\n                <Row>\r\n                  <Col className=\"text-right\">\r\n                    <Button\r\n                      color=\"primary\"\r\n                      type=\"button\"\r\n                      onClick={this.submitFile}\r\n                    >\r\n                      Subir\r\n                    </Button>\r\n                    <Modal\r\n                      className=\"modal-dialog-centered\"\r\n                      isOpen={this.state.stateModal}\r\n                      toggle={() => this.toggleModal()}\r\n                    >\r\n                      <div className=\"modal-header\">\r\n                        <h3 className=\"modal-title\" id=\"exampleModalLabel\">\r\n                          Resultado de la simulación\r\n                        </h3>\r\n                        <button\r\n                          aria-label=\"Close\"\r\n                          className=\"close\"\r\n                          data-dismiss=\"modal\"\r\n                          type=\"button\"\r\n                          onClick={() => this.toggleModal()}\r\n                        >\r\n                          <span aria-hidden={true}>×</span>\r\n                        </button>\r\n                      </div>\r\n                      <div className=\"modal-body\">\r\n                        {this.state.infoModal}                        \r\n                      </div>\r\n                      <div className=\"modal-footer\">\r\n                        <Button\r\n                          color=\"primary\"\r\n                          data-dismiss=\"modal\"\r\n                          type=\"button\"\r\n                          onClick={() => this.toggleModal()}\r\n                        >\r\n                          Cerrar\r\n                        </Button>\r\n                      </div>\r\n                    </Modal>\r\n                  </Col>\r\n                </Row>\r\n              </CardBody>\r\n            </Card>\r\n          </Row>\r\n        </Container>\r\n      </>\r\n    );\r\n  }\r\n}\r\nexport default Simulation;\r\n"]},"metadata":{},"sourceType":"module"}